(this["webpackJsonpreact-firebase-chat-app"]=this["webpackJsonpreact-firebase-chat-app"]||[]).push([[0],{59:function(e,t,n){},61:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n.n(r),s=n(48),c=n.n(s),i=n(29),o=n(12),u=[{id:"help",title:"Proceed to support chat"}],l=(n(59),n(10));function d(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Welcome"}),Object(l.jsx)("p",{children:"Please only send ONE message and wait patiently for a response. Please do not include personal information such as phone number, address, full name or order numbers."}),Object(l.jsx)("ul",{className:"chat-room-list",children:u.map((function(e){return Object(l.jsx)("li",{children:Object(l.jsx)(i.b,{to:"/room/".concat(e.id),children:e.title})},e.id)}))})]})}var p=n(0),h=n(1),b=n(11),j=n(24),m=n(49),f=n(35),g=n(22),x=Object(m.a)({apiKey:"AIzaSyA9yCoGjoFAlvs3fNBOAYTsXcN86nCpOYY",authDomain:"chatjoabuttdev.firebaseapp.com",projectId:"chatjoabuttdev",storageBucket:"chatjoabuttdev.appspot.com",messagingSenderId:"479546095872",appId:"1:479546095872:web:3ebae01123ae2a6d09dbe5"}),O=Object(g.c)(x);function y(){return v.apply(this,arguments)}function v(){return(v=Object(h.a)(Object(p.a)().mark((function e(){var t,n,r,a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new f.a,n=Object(f.b)(),e.next=5,Object(f.c)(n,t);case 5:return r=e.sent,a=r.user,e.abrupt("return",{uid:a.uid,displayName:a.displayName});case 10:return e.prev=10,e.t0=e.catch(0),"auth/cancelled-popup-request"!==e.t0.code&&console.error(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function w(){return(w=Object(h.a)(Object(p.a)().mark((function e(t,n,r){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g.a)(Object(g.b)(O,"chat-rooms",t,"messages"),{uid:n.uid,displayName:n.displayName,text:r.trim(),timestamp:Object(g.g)()});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function k(e,t){return N.apply(this,arguments)}function N(){return(N=Object(h.a)(Object(p.a)().mark((function e(t,n){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g.a)(Object(g.b)(O,"chat-rooms",t,"messages"),{uid:"bPiif3D8nGPqDT3EDjNeggIkzSy2",displayName:"Chatty Businessman",text:n.trim(),timestamp:Object(g.g)()});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var S=a.a.createContext(),I=function(e){var t=a.a.useState(null),n=Object(b.a)(t,2),r=n[0],s=n[1],c=function(){var e=Object(h.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,s(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i={user:r,login:c};return Object(l.jsx)(S.Provider,Object(j.a)({value:i},e))};function C(){var e=a.a.useContext(S);if(!e)throw new Error("AuthContext's value is undefined.");return e}n(61);var T=n(50),E=n.n(T);function W(e){var t=e.roomId,n=C().user,r=a.a.useState(""),s=Object(b.a)(r,2),c=s[0],i=s[1];function o(){return(o=Object(h.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c,"To track your order, please go to insertname.com and enter your order number.","We ship to anywhere internationally besides insertNotIncludedCountries. Shipping usually takes 1-2 weeks.","We allow refunds, exchange and returns only within two weeks on the item being delivered and you must still have your order id. To start a refund, return or exchange request, email insertemail@insert.com",E.a.post("https://api.cohere.ai/classify",{model:"large",inputs:[t],examples:[{text:"Do you offer same day shipping?",label:"Shipping and handling policy"},{text:"Can you ship to Italy?",label:"Shipping and handling policy"},{text:"How long does shipping take?",label:"Shipping and handling policy"},{text:"Can I buy online and pick up in store?",label:"Shipping and handling policy"},{text:"What are your shipping options?",label:"Shipping and handling policy"},{text:"My order arrived damaged, can I get a refund?",label:"Start return or exchange"},{text:"You sent me the wrong item",label:"Start return or exchange"},{text:"I want to exchange my item for another colour",label:"Start return or exchange"},{text:"I ordered something and it wasn\u2019t what I expected. Can I return it?",label:"Start return or exchange"},{text:"What\u2019s your return policy?",label:"Start return or exchange"},{text:"Where\u2019s my package?",label:"Track order"},{text:"When will my order arrive?",label:"Track order"},{text:"What\u2019s my shipping number?",label:"Track order"},{text:"Which carrier is my package with?",label:"Track order"},{text:"Is my package delayed?",label:"Track order"}]},{headers:{Authorization:"BEARER gorDToBtztoyZFNIXY8g5LdEXiYO17TeKYGA8deP","Content-Type":"application/json"}}).then((function(e){var t=JSON.stringify(e.data.classifications),n=t.search("prediction"),r=t.search("confidences"),a=t.slice(n,r);a.includes("Track order")?k("help","To track your order, please go to insertname.com and enter your order number."):a.includes("Start return or exchange")?k("help","We allow refunds, exchange and returns only within two weeks on the item being delivered and you must still have your order id. To start a refund, return or exchange request, email insertemail@insert.com"):a.includes("Shipping and handling policy")&&k("help","We ship to anywhere internationally besides insertNotIncludedCountries. Shipping usually takes 1-2 weeks.")})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,t,n){w.apply(this,arguments)}(t,n,c),i(""),function(){o.apply(this,arguments)}()},className:"message-input-container",children:[Object(l.jsx)("input",{type:"text",placeholder:"Enter a message",value:c,onChange:function(e){i(e.target.value)},className:"message-input",required:!0,minLength:1}),Object(l.jsx)("button",{type:"submit",disabled:c<1,className:"send-message",children:"Send"})]})}function P(e){var t=a.a.useState([]),n=Object(b.a)(t,2),r=n[0],s=n[1];return a.a.useEffect((function(){var t=function(e,t){return Object(g.d)(Object(g.f)(Object(g.b)(O,"chat-rooms",e,"messages"),Object(g.e)("timestamp","asc")),(function(e){var n=e.docs.map((function(e){return Object(j.a)({id:e.id},e.data())}));t(n)}))}(e,s);return t}),[e]),r}n(84);function A(e){var t=e.roomId,n=a.a.useRef(null),r=C().user,s=P(t);return a.a.useLayoutEffect((function(){n.current&&(n.current.scrollTop=n.current.scrollHeight)})),Object(l.jsx)("div",{className:"message-list-container",ref:n,children:Object(l.jsx)("ul",{className:"message-list",children:s.map((function(e){return Object(l.jsx)(B,{message:e,isOwnMessage:e.uid===r.uid},e.id)}))})})}function B(e){var t=e.message,n=e.isOwnMessage,r=t.displayName,a=t.text;return Object(l.jsxs)("li",{className:["message",n&&"own-message"].join(" "),children:[Object(l.jsx)("h4",{className:"sender",children:n?"You":r}),Object(l.jsx)("div",{children:a})]})}n(85);function Y(){var e=Object(o.g)(),t=u.find((function(t){return t.id===e.id}));return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Support Chat. Powered By CBMen"}),Object(l.jsx)("div",{children:Object(l.jsx)("p",{children:"Please only send ONE message and wait patiently for a response. Please do not include personal information such as phone number, address, full name or order numbers."})}),Object(l.jsxs)("div",{className:"messages-container",children:[Object(l.jsx)(A,{roomId:t.id}),Object(l.jsx)(W,{roomId:t.id})]})]})}function D(){return Object(l.jsx)(i.a,{children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/",element:Object(l.jsx)(d,{})}),Object(l.jsx)(o.a,{path:"/room/:id",element:Object(l.jsx)(Y,{})})]})})}n(86);function q(){var e=C().login;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Log in to join a chat room!"}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:e,className:"login",children:"Login with Google"})})]})}n(87);var F=function(){var e=C().user;return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{children:"Support Chat Room"}),e?Object(l.jsx)(D,{}):Object(l.jsx)(q,{})]})};n(88);c.a.createRoot(document.getElementById("root")).render(Object(l.jsx)(I,{children:Object(l.jsx)(F,{})}))}},[[89,1,2]]]);
//# sourceMappingURL=main.174d7f4d.chunk.js.map